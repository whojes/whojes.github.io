I"_<p>다방면의 서버에서 여러가지 이유로 중복해서 호출이 일어나는 api 가 있었다. 사실 그러라고 만들어 놓은 api 이기도 했지만, 응답속도가 그리 만족스럽지는 않았던 탓인지 챌린지가 많이 들어왔었다. 다방면으로 이유를 분석해서 수정을 진행했다. 효과가 좋았던 것들을 몇개 정리하고, 그 중에서 가장 큰 배움이 있었던 것은 <code class="language-plaintext highlighter-rouge">gzip</code> 관련된 것이었기에 꼭지를 gzip 으로 정했다.</p>

<p align="center">
  <br /><img alt="img-name" src="/assets/images/gzip/gzip_1.png" class="content-image-1" /><br />
  <em>tps 15k</em><br />
</p>

<hr />

<ul>
  <li>redis cache 사이즈 줄이기
    <ul>
      <li><strong>why</strong>
        <ul>
          <li>mongo search 속도가 느려 레디스 캐싱을 해두었는데, redis 쪽으로 네트워크 bandwidth가 너무 컸다.</li>
        </ul>
      </li>
      <li><strong>how</strong>
        <ul>
          <li>as-is: 특정 작업의 결과물을 캐싱함</li>
          <li>to-be: 특정 작업에서 사용되는 파라미터중 변동값만 캐싱하고, 서버가 작업을 다시 하게 함</li>
        </ul>
      </li>
      <li><strong>result</strong>
        <ul>
          <li></li>
        </ul>
      </li>
    </ul>
  </li>
</ul>
:ET
<!DOCTYPE html><html lang="en-US"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=Edge"><link rel="shortcut icon" href="/assets/images/favicon.png" type="image/x-icon"><link rel="stylesheet" href="/assets/css/just-the-docs-default.css"> <script type="text/javascript" src="/assets/js/vendor/lunr.min.js" charset="utf-8"></script> <script type="text/javascript" src="/assets/js/vendor/lunr.stemmer.support.min.js" charset="utf-8"></script> <script type="text/javascript" src="/assets/js/vendor/lunr.kr.min.js" charset="utf-8"></script> <script type="text/javascript" src="/assets/js/just-the-docs.js"></script><meta name="viewport" content="width=device-width, initial-scale=1"><title>Java collectors | whojes blog</title><meta name="generator" content="Jekyll v4.2.1" /><meta property="og:title" content="Java collectors" /><meta property="og:locale" content="en_US" /><meta name="description" content="이야기 이야기" /><meta property="og:description" content="이야기 이야기" /><link rel="canonical" href="http://localhost:4000/develop/java/collector" /><meta property="og:url" content="http://localhost:4000/develop/java/collector" /><meta property="og:site_name" content="whojes blog" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Java collectors" /> <script type="application/ld+json"> {"url":"http://localhost:4000/develop/java/collector","headline":"Java collectors","dateModified":"2021-11-09T13:34:53+09:00","description":"이야기 이야기","@type":"WebPage","@context":"https://schema.org"}</script><body> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="svg-link" viewBox="0 0 24 24"><title>Link</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"><title>Search</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"><title>Menu</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"><title>Expand</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"><polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"><title>Document</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"><path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> </svg><div class="side-bar"><div class="site-header"> <a href="http://localhost:4000/" class="site-title lh-tight"> whojes blog </a> <a href="#" id="menu-button" class="site-button"> <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg> </a></div><div class="site-namecard"> <img class="site-namecard-image" src="/assets/images/dalee.jpeg" /><div class="site-namecard-name"> <text>달리는 개발자</text></div></div><nav role="navigation" aria-label="Main" id="site-nav" class="site-nav"><ul class="nav-list"><li class="nav-list-item"><a href="http://localhost:4000/" class="nav-list-link">whojes?</a><li class="nav-list-item active"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/develop" class="nav-list-link">개발</a><ul class="nav-list "><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/develop/study" class="nav-list-link">study</a><ul class="nav-list"><li class="nav-list-item "> <a href="http://localhost:4000/develop/study/oidc" class="nav-list-link">OpenID Connect</a><li class="nav-list-item "> <a href="http://localhost:4000/develop/study/kubevirt" class="nav-list-link">kubevirt</a></ul><li class="nav-list-item active"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/develop/java" class="nav-list-link">java/kotlin</a><ul class="nav-list"><li class="nav-list-item active"> <a href="http://localhost:4000/develop/java/collector" class="nav-list-link active">Java collectors</a><li class="nav-list-item "> <a href="http://localhost:4000/develop/java/filer" class="nav-list-link">Java filer</a><li class="nav-list-item "> <a href="http://localhost:4000/develop/java/doublebraces" class="nav-list-link">double curly braces</a></ul><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/develop/git" class="nav-list-link">git</a><ul class="nav-list"><li class="nav-list-item "> <a href="http://localhost:4000/develop/git/plumbing" class="nav-list-link">plumbing commands</a></ul><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/develop/springboot" class="nav-list-link">springboot</a><ul class="nav-list"><li class="nav-list-item "> <a href="http://localhost:4000/develop/springboot/optimize-api" class="nav-list-link">api 최적화와 gzip</a><li class="nav-list-item "> <a href="http://localhost:4000/develop/springboot/kafka-consumer-health" class="nav-list-link">kafka consumer health</a><li class="nav-list-item "> <a href="http://localhost:4000/develop/springboot/shutdown-hook" class="nav-list-link">shutdown hook</a></ul><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/develop/etc" class="nav-list-link">etc</a><ul class="nav-list"><li class="nav-list-item "> <a href="http://localhost:4000/develop/etc/bash" class="nav-list-link">bash commands</a><li class="nav-list-item "> <a href="http://localhost:4000/develop/etc/sorry-computers" class="nav-list-link">미안해 컴퓨터야</a></ul></ul><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/travel" class="nav-list-link">여행</a><ul class="nav-list "><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/travel/asia" class="nav-list-link">아시아</a><ul class="nav-list"><li class="nav-list-item "> <a href="http://localhost:4000/travel/asia/vietnam_1" class="nav-list-link">2017-08 베트남</a><li class="nav-list-item "> <a href="http://localhost:4000/travel/asia/japan_1" class="nav-list-link">2019-02 일본 도쿄</a><li class="nav-list-item "> <a href="http://localhost:4000/travel/asia/china_1" class="nav-list-link">2019-08 중국 칭다오</a></ul><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/travel/europe" class="nav-list-link">유럽</a><ul class="nav-list"><li class="nav-list-item "> <a href="http://localhost:4000/travel/europe/vladik_1" class="nav-list-link">2019-10 블라디보스톡</a></ul></ul><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/life" class="nav-list-link">일상</a><ul class="nav-list "><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/life/diary" class="nav-list-link">다이어리</a><ul class="nav-list"><li class="nav-list-item "> <a href="http://localhost:4000/life/diary/2022" class="nav-list-link">2022</a></ul><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/life/essay" class="nav-list-link">에세이</a><ul class="nav-list"><li class="nav-list-item "> <a href="http://localhost:4000/life/essay/1" class="nav-list-link">#1</a></ul><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/life/finance" class="nav-list-link">재테크</a><ul class="nav-list"><li class="nav-list-item "> <a href="http://localhost:4000/life/finance/1" class="nav-list-link">집</a></ul></ul><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/cats" class="nav-list-link">고양이</a><ul class="nav-list "><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/cat/dalee" class="nav-list-link">첫째</a><ul class="nav-list"><li class="nav-list-item "> <a href="http://localhost:4000/cat/dalee/1" class="nav-list-link">#1</a><li class="nav-list-item "> <a href="http://localhost:4000/cat/dalee/2" class="nav-list-link">#2</a><li class="nav-list-item "> <a href="http://localhost:4000/cat/dalee/3" class="nav-list-link">#3</a></ul><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/cat/second" class="nav-list-link">둘째</a><ul class="nav-list"></ul></ul></ul></nav></div><div class="main" id="top"><div id="main-header" class="main-header"><div class="search"><div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="search in whojes blog" aria-label="search in whojes blog" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label></div><div id="search-results" class="search-results"></div></div></div><div id="main-content-wrap" class="main-content-wrap"><nav aria-label="Breadcrumb" class="breadcrumb-nav"><ol class="breadcrumb-nav-list"><li class="breadcrumb-nav-list-item"><a href="http://localhost:4000/develop">개발</a><li class="breadcrumb-nav-list-item"><a href="http://localhost:4000/develop/java">java/kotlin</a><li class="breadcrumb-nav-list-item"><span>Java collectors</span></ol></nav><div style="height: 0.5rem"></div><div id="main-content" class="main-content" role="main"><div> <span style="font-size: 1.8rem; "> Java collectors </span><br> <span style="padding-top: 0.5rem; color: lightgrey;">created at 2019.12.27</span><hr/></div><p>Collector 는, 아무래도, Collection Framework 의 꽃이 아닐까? 이름부터 그렇잖아. Collector!</p><p>stream 의 끝에는 거의 forEach 나 collect 가 기다리고 있다. 여러 필터, 정렬, 매핑 등등으로부터 살아남은 스트림의 엘레먼트들은 forEach 를 만나 소멸하거나 collector 를 만나 새로운 Return Type으로 반환이 되게 된다. forEach는 argument 로 Consumer&lt;? super ElementType&gt; 를 받으므로 그냥 함수 꼴을 하고 있는 pseudo-일급객체 하나를 넣어주면 되지만, collect는 argument가 <code class="language-plaintext highlighter-rouge">Collector&lt;? super ElementType, A, R&gt;</code> 을 받는데, 아니 도대체가 javadoc만읽어서는 잘 이해가 되지 않았던 것이다. functional interface 도 아니고, 어차피 <code class="language-plaintext highlighter-rouge">java.util.stream.Collectors</code> 에 유용한건 이미 다있으니 그냥 갖다가 쓰면 되니까 썼는데, 그래도 하나쯤 custom collector 가 있어야하지 않을까? 하는 노파심에, 그래! 해보자 하고 알아보게 되었다.</p><p>Collector&lt;T, A, R&gt; 클래스는 Target, Accumulator, Return의 generic 타입을 가지는 인터페이스이고, 이를 구현한 클래스가 supplier, accumulator, combiner, finisher와 characteristics 를 오버라이드하여 stream 의 collect 메서드에서 사용할 수 있게 된다.</p><p>이를 이용해 <code class="language-plaintext highlighter-rouge">java.util.stream.Collectors</code> 의 <code class="language-plaintext highlighter-rouge">joining(String delimeter)</code> 메서드를 직접 구현해보면,</p><div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">CustomCollector</span><span class="o">&lt;</span><span class="no">T</span><span class="o">&gt;</span> <span class="kd">extends</span> <span class="nc">Collector</span><span class="o">&lt;</span><span class="no">T</span><span class="o">,</span> <span class="nc">StringBuilder</span><span class="o">,</span> <span class="nc">String</span><span class="o">&gt;</span> <span class="o">{</span>
  <span class="kd">private</span> <span class="nc">String</span> <span class="n">delimeter_</span><span class="o">;</span>
  <span class="kd">private</span> <span class="nf">CustomCollector</span><span class="o">(</span><span class="nc">String</span> <span class="n">del</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">delimeter_</span> <span class="o">=</span> <span class="n">del</span><span class="o">;</span>
  <span class="o">}</span>
  <span class="kd">public</span> <span class="kd">static</span> <span class="o">&lt;</span><span class="no">T</span><span class="o">&gt;</span> <span class="nc">CustomCollector</span><span class="o">&lt;</span><span class="no">T</span><span class="o">&gt;</span> <span class="nf">joining</span><span class="o">(</span><span class="nc">String</span> <span class="n">del</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">return</span> <span class="k">new</span> <span class="nc">CustomCollector</span><span class="o">&lt;&gt;(</span><span class="n">del</span><span class="o">);</span>
  <span class="o">}</span>
  
  <span class="nd">@Override</span>
  <span class="kd">public</span> <span class="nc">Supplier</span><span class="o">&lt;</span><span class="nc">StringBuilder</span><span class="o">&gt;</span> <span class="nf">supplier</span><span class="o">()</span> <span class="o">{</span>
    <span class="k">return</span> <span class="nl">StringBuilder:</span><span class="o">:</span><span class="k">new</span><span class="o">;</span>
  <span class="o">}</span>
  <span class="nd">@Override</span>
  <span class="kd">public</span> <span class="nc">BiConsumer</span><span class="o">&lt;</span><span class="nc">StringBuilder</span><span class="o">,</span> <span class="no">T</span><span class="o">&gt;</span> <span class="nf">accumulator</span><span class="o">()</span> <span class="o">{</span>
    <span class="k">return</span> <span class="o">(</span><span class="n">sb</span><span class="o">,</span> <span class="n">value</span><span class="o">)</span> <span class="o">-&gt;</span> <span class="n">sb</span><span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="n">value</span><span class="o">).</span><span class="na">append</span><span class="o">(</span><span class="n">delimeter_</span><span class="o">);</span>
  <span class="o">}</span>
  <span class="nd">@Override</span>
  <span class="kd">public</span> <span class="nc">BinaryOperator</span><span class="o">&lt;</span><span class="nc">StringBuilder</span><span class="o">&gt;</span> <span class="nf">combiner</span><span class="o">()</span> <span class="o">{</span>
    <span class="k">return</span> <span class="o">(</span><span class="n">sb1</span><span class="o">,</span> <span class="n">sb2</span><span class="o">)</span> <span class="o">-&gt;</span> <span class="n">sb1</span><span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="n">sb2</span><span class="o">);</span>
  <span class="o">}</span>

  <span class="nd">@Override</span>
  <span class="kd">public</span> <span class="nc">Function</span><span class="o">&lt;</span><span class="nc">StringBuilder</span><span class="o">,</span> <span class="nc">String</span><span class="o">&gt;</span> <span class="nf">finisher</span><span class="o">()</span> <span class="o">{</span>
    <span class="k">return</span> <span class="n">sb</span> <span class="o">-&gt;</span> <span class="n">sb</span><span class="o">.</span><span class="na">subSequence</span><span class="o">(</span><span class="mi">0</span><span class="o">,</span> <span class="n">sb</span><span class="o">.</span><span class="na">length</span><span class="o">()</span> <span class="o">-</span> <span class="n">delimeter_</span><span class="o">.</span><span class="na">length</span><span class="o">()).</span><span class="na">toString</span><span class="o">();</span>
  <span class="o">}</span>

  <span class="nd">@Override</span>
  <span class="kd">public</span> <span class="nc">Set</span><span class="o">&lt;</span><span class="nc">Characteristics</span><span class="o">&gt;</span> <span class="nf">characteristics</span><span class="o">()</span> <span class="o">{</span>
    <span class="k">return</span> <span class="nc">ImmutableSet</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="nc">Characteristics</span><span class="o">.</span><span class="na">UNORDERED</span><span class="o">);</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div><p>정도가 되겠다. Accumulator 로 StringBuilder 를 사용했고, combiner(2016년 스택오버플로에 의하면 parallel stream으로 병렬적으로 여러 작업이 이루어지고 이 작업들을 합칠 때만 사용됨)및 finisher, delimeter 를 삽입하는 방법은 최적화를 하지 않고 생각나는대로 짜서 효율은 모르겠지만, 어쨌든 이렇게 해 놓으면 <code class="language-plaintext highlighter-rouge">java.util.stream.Collectors.joining</code> 과 동일하게 사용할 수 있다. 물론 실제로는 <code class="language-plaintext highlighter-rouge">java.util.StringJoiner</code> 를 accumulator로 사용하는 것 같다.</p><div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">void</span> <span class="nf">main</span><span class="o">()</span> <span class="o">{</span>
    <span class="nc">List</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">list</span> <span class="o">=</span> <span class="nc">Arrays</span><span class="o">.</span><span class="na">asList</span><span class="o">(</span><span class="s">"dalee"</span><span class="o">,</span><span class="s">"jumping"</span><span class="o">,</span><span class="s">"higher"</span><span class="o">);</span>
    <span class="nc">String</span> <span class="n">value</span> <span class="o">=</span> <span class="n">list</span><span class="o">.</span><span class="na">stream</span><span class="o">().</span><span class="na">collect</span><span class="o">(</span><span class="nc">CustomCollector</span><span class="o">.</span><span class="na">joining</span><span class="o">(</span><span class="s">"::"</span><span class="o">));</span>
    <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">value</span><span class="o">);</span>
    <span class="c1">// dalee::jumping::higher  </span>
<span class="o">}</span>  
</code></pre></div></div><p><code class="language-plaintext highlighter-rouge">Collector.of</code> 메서드를 이용하면 이것 역시 함수형태(함수형 프로그래밍을 위해 함수 형태를 일급객체로 사용하기위한 Java의 몸부림이라고 볼수있겠다.) argument를 이용해 사용할 수 있다.</p><div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">String</span> <span class="n">delimeter</span> <span class="o">=</span> <span class="s">"::"</span><span class="o">;</span>
<span class="nc">Collector</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="o">?,</span> <span class="nc">String</span><span class="o">&gt;</span> <span class="n">c</span> <span class="o">=</span> <span class="nc">Collector</span><span class="o">.</span><span class="na">of</span><span class="o">(</span>
  <span class="nl">StringBuilder:</span><span class="o">:</span><span class="k">new</span><span class="o">,</span>  <span class="c1">// supplier</span>
  <span class="o">(</span><span class="n">sb</span><span class="o">,</span> <span class="n">t</span><span class="o">)</span> <span class="o">-&gt;</span> <span class="n">sb</span><span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="n">t</span><span class="o">).</span><span class="na">append</span><span class="o">(</span><span class="n">delimeter</span><span class="o">),</span> <span class="c1">// accumulator</span>
  <span class="nl">StringBuilder:</span><span class="o">:</span><span class="n">append</span><span class="o">,</span> <span class="c1">// combiner</span>
  <span class="n">sb</span> <span class="o">-&gt;</span> <span class="n">sb</span><span class="o">.</span><span class="na">subSequence</span><span class="o">(</span><span class="mi">0</span><span class="o">,</span> <span class="n">sb</span><span class="o">.</span><span class="na">length</span><span class="o">()</span> <span class="o">-</span> <span class="n">delimeter</span><span class="o">.</span><span class="na">length</span><span class="o">()).</span><span class="na">toString</span><span class="o">(),</span> <span class="c1">// finisher</span>
  <span class="nc">Characteristics</span><span class="o">.</span><span class="na">UNORDERED</span> <span class="c1">// characteristics</span>
<span class="o">);</span>
</code></pre></div></div><p>더하여, double colon 으로 이뤄지는 method reference 에 관하여, 함수 형태의 람다식의 사용을 간편하게 해주는 것으로, 크게 4가지의 사용법이 있다.</p><div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">(</span><span class="n">args</span><span class="o">)</span> <span class="o">-&gt;</span> <span class="nc">Class</span><span class="o">.</span><span class="na">staticMethod</span><span class="o">(</span><span class="n">args</span><span class="o">)</span> <span class="o">===</span> <span class="nl">Class:</span><span class="o">:</span><span class="n">staticMethod</span>
<span class="o">(</span><span class="n">obj</span><span class="o">,</span> <span class="n">args</span><span class="o">)</span> <span class="o">-&gt;</span> <span class="n">obj</span><span class="o">.</span><span class="na">instanceMethod</span><span class="o">(</span><span class="n">args</span><span class="o">)</span> <span class="o">===</span> <span class="nl">ObjectType:</span><span class="o">:</span><span class="n">instanceMethod</span>
<span class="o">(</span><span class="n">args</span><span class="o">)</span> <span class="o">-&gt;</span> <span class="n">obj</span><span class="o">.</span><span class="na">instanceMethod</span><span class="o">(</span><span class="n">args</span><span class="o">)</span> <span class="o">===</span> <span class="nl">obj:</span><span class="o">:</span><span class="n">instanceMethod</span>
<span class="o">(</span><span class="n">args</span><span class="o">)</span> <span class="o">-&gt;</span> <span class="k">new</span> <span class="nc">ClassName</span><span class="o">(</span><span class="n">args</span><span class="o">)</span> <span class="o">===</span> <span class="nl">ClassName:</span><span class="o">:</span><span class="k">new</span>
</code></pre></div></div><p>즉, 다음과 같이 줄일 수 있다.</p><div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">Supplier</span><span class="o">&lt;</span><span class="nc">StringBuilder</span><span class="o">&gt;</span> <span class="n">s</span> <span class="o">=</span> <span class="o">()</span> <span class="o">-&gt;</span> <span class="k">new</span> <span class="nc">StringBuilder</span><span class="o">();</span>
<span class="nc">Supplier</span><span class="o">&lt;</span><span class="nc">StringBuilder</span><span class="o">&gt;</span> <span class="n">s</span> <span class="o">=</span> <span class="nl">StringBuilder:</span><span class="o">:</span><span class="k">new</span><span class="o">;</span>
<span class="c1">// 동치</span>

<span class="nc">Function</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">StringBuilder</span><span class="o">&gt;</span> <span class="n">f</span> <span class="o">=</span> <span class="o">(</span><span class="n">input</span><span class="o">)</span> <span class="o">-&gt;</span> <span class="k">new</span> <span class="nc">StringBuilder</span><span class="o">(</span><span class="n">input</span><span class="o">);</span>
<span class="nc">Function</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">StringBuilder</span><span class="o">&gt;</span> <span class="n">f</span> <span class="o">=</span> <span class="nl">StringBuilder:</span><span class="o">:</span><span class="k">new</span><span class="o">;</span>
<span class="nc">BiFunction</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">String</span><span class="o">,</span> <span class="nc">StringBuilder</span><span class="o">&gt;</span> <span class="n">f</span> <span class="o">=</span> <span class="nl">StringBuilder:</span><span class="o">:</span><span class="k">new</span><span class="o">;</span> <span class="c1">// Error (StringBuilder 의 생성자는 param 을 1개만 받음)</span>
<span class="c1">// 동치</span>

<span class="nc">BiFunction</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">String</span><span class="o">,</span> <span class="nc">String</span><span class="o">&gt;</span> <span class="n">bf</span> <span class="o">=</span> <span class="o">(</span><span class="n">input1</span><span class="o">,</span> <span class="n">input2</span><span class="o">)</span> <span class="o">-&gt;</span> <span class="n">input1</span> <span class="o">+</span> <span class="n">input2</span><span class="o">;</span>
<span class="nc">BiFunction</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">String</span><span class="o">,</span> <span class="nc">String</span><span class="o">&gt;</span> <span class="n">bf</span> <span class="o">=</span> <span class="nl">String:</span><span class="o">:</span><span class="n">concat</span><span class="o">;</span>
<span class="c1">// 동치</span>

<span class="nc">Integer</span> <span class="n">temp</span> <span class="o">=</span> <span class="mi">4</span><span class="o">;</span>
<span class="nc">Comparable</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="n">cc</span> <span class="o">=</span> <span class="n">input</span> <span class="o">-&gt;</span> <span class="n">temp</span><span class="o">.</span><span class="na">compareTo</span><span class="o">(</span><span class="n">input</span><span class="o">);</span>
<span class="nc">Comparable</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="n">cc</span> <span class="o">=</span> <span class="nl">temp:</span><span class="o">:</span><span class="n">compareTo</span><span class="o">;</span>
<span class="c1">// 동치미</span>
</code></pre></div></div><hr><p><a href="#top" id="back-to-top">맨 위로 가기</a></p><b>java/kotlin의 다른 글 보기</b><p><a href="/develop/java/filer">Java filer</a></p><p><a href="/develop/java/doublebraces">double curly braces</a></p><footer><style> #share-buttons {display: inline-block; vertical-align: middle; } #share-buttons:after {content: ""; display: block; clear: both;} #share-buttons > div { position: relative; text-align: left; height: 36px; width: 32px; float: left; text-align: center; } #share-buttons > div > svg {height: 16px; fill: #d5d5d5; margin-top: 10px;} #share-buttons > div:hover {cursor: pointer;} #share-buttons > div.facebook:hover > svg {fill: #3B5998;} #share-buttons > div.twitter:hover > svg {fill: #55ACEE;} #share-buttons > div.linkedin:hover > svg {fill: #0077b5;} #share-buttons > div.pinterest:hover > svg {fill: #CB2027;} #share-buttons > div.gplus:hover > svg {fill: #dd4b39;} #share-buttons > div.mail:hover > svg {fill: #7D7D7D;} #share-buttons > div.instagram:hover > svg {fill: #C73B92;} #share-buttons > div.facebook > svg {height: 18px; margin-top: 9px;} #share-buttons > div.twitter > svg {height: 20px; margin-top: 8px;} #share-buttons > div.linkedin > svg {height: 19px; margin-top: 7px;} #share-buttons > div.pinterest > svg {height: 20px; margin-top: 9px;} #share-buttons > div.gplus > svg {height: 17px; margin-top: 9px; position: relative; left: 1px;} #share-buttons > div.mail > svg {height: 14px; margin-top: 11px;}</style><span style="color: silver;">Share this on: </span><div id="share-buttons"><div class="facebook" title="Share this on Facebook" onclick="window.open('http://www.facebook.com/share.php?u=http://localhost:4000/develop/java/collector');"><svg viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><path d="M1343 12v264h-157q-86 0-116 36t-30 108v189h293l-39 296h-254v759h-306v-759h-255v-296h255v-218q0-186 104-288.5t277-102.5q147 0 228 12z"/></svg></div><div class="twitter" title="Share this on Twitter" onclick="window.open('http://twitter.com/home?status=http://localhost:4000/develop/java/collector');"><svg viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><path d="M1684 408q-67 98-162 167 1 14 1 42 0 130-38 259.5t-115.5 248.5-184.5 210.5-258 146-323 54.5q-271 0-496-145 35 4 78 4 225 0 401-138-105-2-188-64.5t-114-159.5q33 5 61 5 43 0 85-11-112-23-185.5-111.5t-73.5-205.5v-4q68 38 146 41-66-44-105-115t-39-154q0-88 44-163 121 149 294.5 238.5t371.5 99.5q-8-38-8-74 0-134 94.5-228.5t228.5-94.5q140 0 236 102 109-21 205-78-37 115-142 178 93-10 186-50z"/></svg></div><div class="linkedin" title="Share this on Linkedin" onclick="window.open('https://www.linkedin.com/shareArticle?mini=true&url=http://localhost:4000/develop/java/collector&title=&summary=&source=');"><svg viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><path d="M477 625v991h-330v-991h330zm21-306q1 73-50.5 122t-135.5 49h-2q-82 0-132-49t-50-122q0-74 51.5-122.5t134.5-48.5 133 48.5 51 122.5zm1166 729v568h-329v-530q0-105-40.5-164.5t-126.5-59.5q-63 0-105.5 34.5t-63.5 85.5q-11 30-11 81v553h-329q2-399 2-647t-1-296l-1-48h329v144h-2q20-32 41-56t56.5-52 87-43.5 114.5-15.5q171 0 275 113.5t104 332.5z"/></svg></div><div class="mail" title="Share this through Email" onclick="window.open('mailto:?&body=http://localhost:4000/develop/java/collector');"><svg viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><path d="M1792 710v794q0 66-47 113t-113 47h-1472q-66 0-113-47t-47-113v-794q44 49 101 87 362 246 497 345 57 42 92.5 65.5t94.5 48 110 24.5h2q51 0 110-24.5t94.5-48 92.5-65.5q170-123 498-345 57-39 100-87zm0-294q0 79-49 151t-122 123q-376 261-468 325-10 7-42.5 30.5t-54 38-52 32.5-57.5 27-50 9h-2q-23 0-50-9t-57.5-27-52-32.5-54-38-42.5-30.5q-91-64-262-182.5t-205-142.5q-62-42-117-115.5t-55-136.5q0-78 41.5-130t118.5-52h1472q65 0 112.5 47t47.5 113z"/></svg></div></div><div class="d-flex mt-2"></div></footer></div></div><div class="search-overlay"></div></div>
